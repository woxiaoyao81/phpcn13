<!--
 * @Descripttion: 
 * @version: 
 * @Author: woxiaoyao
 * @Date: 2020-11-03 14:22:58
 * @LastEditTime: 2020-11-03 16:01:12
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>解构赋值</title>
  </head>
  <body>
    <script>
      // 对象解构
      let user = {
        nick: 'woxiaoyao',
        skill: 'web',
      };
      //   完全解构:有两种形式，直接定义时赋值使用大括号{}，声明后再赋值要用圆括号()和大括号()
      //   let { nick, skill } = user;
      let nick, skill;
      ({ nick, skill } = user);
      console.log(nick, skill);
      //   不完全解构
      let age;
      ({ nick, skill, age } = user);
      console.log(nick, skill, age);
      //   默认值
      ({ nick, skill, age = 28 } = user);
      console.log(nick, skill, age);
      //   别名，要注意此时等于引用两个变量，别名是自动定义的，而原名要使用则要声明。
      ({ nick, skill, sex: gender = '男' } = user);
      console.log(nick, skill, gender);
      //   console.log(nick, skill, sex); /* 报错 */

      //   数组解构
      let price = [10, 15, 20, 25];
      //   完全解构
      let [first, second, three, four] = price;
      console.log(first, second, three, four);
      //   不完全解构，要使用...省略号接受剩下所有，并且要最后一个
      let [fir, ...sec] = price;
      console.log(fir, sec);
      //   设置默认值
      let [fi, se, th, fo, five = 30] = price;
      console.log(fi, se, th, fo, five);

      //   解构用途
      //   第一种：交换变量的值
      let arr1 = [1, 2];
      let arr2 = [3, 4];
      let user1 = { name: 'woxiaoyao', age: 22 };
      let user2 = { name: 'xiaoyao', age: 28 };
      [arr1, arr2] = [arr2, arr1];
      console.log(arr1, arr2);
      [user1, user2] = [user2, user1];
      console.log(user1, user2);
      //   第二种:从函数返回多个值
      function test1() {
        return [1, 2, 3];
      }
      let [a, b, c] = test1();
    //   console.log(a, b, c);
      // 返回一个对象
      function test2() {
        return {
          foo: 1,
          bar: 2,
        };
      }
      let { foo, bar } = test2();
    //   console.log(foo, bar);
      //   第三种：函数参数的定义
      // 参数是一组有次序的值
      function f([x, y, z]) {}
      f([1, 2, 3]);
      // 参数是一组无次序的值
      function f({ x, y, z }) {}
      f({ z: 3, y: 2, x: 1 });
      // 第四种:提取JSON数据
      let jsonData = {
        id: 42,
        status: 'OK',
        data: [867, 5309],
      };
      let { id, status, data: number } = jsonData;
      console.log(id, status, number);
    </script>
  </body>
</html>
